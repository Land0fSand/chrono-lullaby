# ChronoLullaby 配置示例（本地模式）
#
# 适用场景：
# - 不使用 Notion，所有配置/存档均存储在本地文件中
# - 或希望在切换到 Notion 之前，先使用本地模式验证流程
#
# 使用步骤：
# 1. 复制本文件为 config/config.yaml
# 2. 按需修改 telegram/downloader/频道组等内容
# 3. 运行 `ch start`（默认为本地模式）

mode: local

log:
  level: INFO
  single_file_mode: true
  file:
    max_bytes: 20971520
    backup_count: 10

debug:
  enabled: false

telegram:
  bot_token: "YOUR_TELEGRAM_BOT_TOKEN"
  send_interval: 180

downloader:
  download_interval: 0                  # 实时频道下载间隔（秒），0 表示不自动循环
  filter_days: 3                        # 只下载最近 N 天的视频
  max_videos_per_channel: 6             # 每个频道最多检查的视频数
  video_delay_min: 120                  # 同频道内视频间最小延迟（秒）
  video_delay_max: 240                  # 同频道内视频间最大延迟（秒）
  channel_delay_min: 20                 # 频道间最小延迟（秒）
  channel_delay_max: 40                 # 频道间最大延迟（秒）
  config_check_interval: 3600           # 配置热更新检测间隔（秒），默认 1 小时
  cookies_file: "config/youtube.cookies"
  download_archive: "data/download_archive.txt"

channel_groups:
  - name: "示例频道组"
    description: "本地模式示例"
    enabled: true
    channel_type: realtime
    telegram_chat_id: "-1001234567890"
    audio_folder: "au/sample"
    youtube_channels:
      - "@SampleChannel"
      - "@AnotherChannel"

  - name: "示例故事频道"
    description: "按时间顺序补全历史节目"
    enabled: true
    channel_type: story
    telegram_chat_id: "-1009876543210"
    audio_folder: "au/story"
    story:
      interval_seconds: 86400  # 故事型抓取频率
      items_per_run: 1         # 每轮抓取条数
    youtube_channels:
      - "@OnlyOneChannel"  # 故事型建议只配置 1 个频道

# 补充说明：
# - 本地模式会在 data/ 目录下生成 sent_archive_* 文件，并使用 download_archive 记录下载历史
# - 可以添加多个频道组，每个组可配置独立的 bot_token / audio_folder / 频道列表
# - 若后续迁移到 Notion，可运行 `ch sync-to-notion --data config` 将本地配置写入 Notion
